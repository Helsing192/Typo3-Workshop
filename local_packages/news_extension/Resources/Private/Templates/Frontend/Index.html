<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
      data-namespace-typo3-fluid="true">

<f:layout name="Default" />

<f:section name="content">
    <h1>
        Welcome to the news category example!
    </h1>

    <f:if condition="{categories}">
        <f:then>
            <h2>
                <f:translate key="category.list" arguments="{numberOfCategories: '{categories -> f:count()}'}">[list of categories]</f:translate>
                :
            </h2>
            <ol>
                <f:for each="{categories}" as="category">
                    <li>
                        <h3>
                            <f:link.action action="news" controller="Frontend" arguments="{category : category, currentPage: paginator.currentPageNumber}">
                                {category.title} ({f:translate(key: 'category.numberOfNews', arguments: '{numberOfNews: \'{category.news -> f:count()}\'}')})
                            </f:link.action>
                        </h3>
                        <p class="tx-newsextension-description">
                            <f:format.nl2br>{category.description}</f:format.nl2br>
                        </p>
                    </li>
                </f:for>
            </ol>
        </f:then>
        <f:else>
            <h2>
                There are currently no categories
            </h2>
        </f:else>
    </f:if>
</f:section>
</html>
